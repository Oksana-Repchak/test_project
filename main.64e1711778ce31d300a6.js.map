{"version":3,"sources":["webpack:///./templates/movies-list.hbs","webpack:///./js/api-service.js","webpack:///./js/search-movies.js","webpack:///./js/draw-page.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","API_KEY","BASE_URL","NewsApiService","this","searchQuery","page","fetchPopularArticles","url","fetch","then","response","json","results","fetchSearchArticles","fetchGenres","genres","insertGenresOfMovie","genresList","map","movie","release_date","split","genre_ids","id","filter","el","flat","MoviesSearch","onFetch","console","log","insertSearchGenresOfMovie","incrementPage","resetPage","newQuery","searchForm","document","querySelector","moviesContainer","newApiService","renderMoviesCard","movies","allMoviesMarkup","moviesList","innerHTML","addEventListener","e","preventDefault","query","target","value","listElement","articles","moviePosterTpl","catch","err"],"mappings":"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","file":"main.64e1711778ce31d300a6.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movies-item\\\" data-action='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":43}}}) : helper)))\n    + \"'>\\r\\n  <a href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"homepage\") || (depth0 != null ? lookupProperty(depth0,\"homepage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"homepage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":11},\"end\":{\"line\":3,\"column\":23}}}) : helper)))\n    + \"\\\" rel=\\\"noopener noreferrer\\\">\\r\\n    <article>\\r\\n      <div class=\\\"movies-poster\\\">\\r\\n        <img src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":49},\"end\":{\"line\":6,\"column\":64}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":71},\"end\":{\"line\":6,\"column\":80}}}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":81},\"end\":{\"line\":6,\"column\":89}}}) : helper)))\n    + \"\\\" width=\\\"100%\\\"\\r\\n          data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":19},\"end\":{\"line\":7,\"column\":25}}}) : helper)))\n    + \"\\\" />\\r\\n      </div>\\r\\n      <div class=\\\"info\\\">\\r\\n        <h2 class=\\\"info-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":31},\"end\":{\"line\":10,\"column\":40}}}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":41},\"end\":{\"line\":10,\"column\":49}}}) : helper)))\n    + \"</h4>\\r\\n          <p class=\\\"info-text\\\">\\r\\n            <span>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":18},\"end\":{\"line\":12,\"column\":53}}})) != null ? stack1 : \"\")\n    + \"</span> | <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":69},\"end\":{\"line\":12,\"column\":85}}}) : helper)))\n    + \"</span> <span\\r\\n              class=\\\"info-text__rating\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":40},\"end\":{\"line\":13,\"column\":56}}}) : helper)))\n    + \"</span>\\r\\n          </p>\\r\\n      </div>\\r\\n    </article>\\r\\n  </a>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":35},\"end\":{\"line\":12,\"column\":43}}}) : helper)))\n    + \" \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":19,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const API_KEY = 'b4c2f63def68e49abedf5a34ac5e443b';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\n\r\nexport default class NewsApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n  fetchPopularArticles() {\r\n    const url = `${BASE_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=${this.page}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(({ results }) => {\r\n        return results;\r\n      });\r\n  }\r\n  fetchSearchArticles() {\r\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=${this.page}&query=${this.searchQuery}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(({ results }) => {\r\n        return results;\r\n      });\r\n  }\r\n  \r\n  fetchGenres() {\r\n    const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data.genres;\r\n      });\r\n  }\r\n  insertGenresOfMovie() {\r\n    return this.fetchPopularArticles().then(data => {\r\n      return this.fetchGenres().then(genresList => {\r\n        return data.map(movie => ({\r\n          ...movie,\r\n          release_date: movie.release_date.split('-')[0],\r\n          genres: movie.genre_ids\r\n            .map(id => genresList.filter(el => el.id === id))\r\n            .flat(),\r\n        }));\r\n      });\r\n    });\r\n  }\r\n//  TrendingMovies() {\r\n//    const url = `${BASE_URL}/trending/all/day?api_key=${API_KEY}`;\r\n//    return this.onFetch(url);\r\n//   }\r\n   MoviesSearch() {\r\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`\r\n    return this.onFetch(url);\r\n  }\r\n\r\n  async onFetch(url) {\r\n     try {\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      return data.results;\r\n    } catch (err) {\r\n      return console.log('Some error in fetch');\r\n    }\r\n  }\r\ninsertSearchGenresOfMovie() {\r\n    return this.fetchSearchArticles().then(data => {\r\n      return this.fetchGenres().then(genresList => {\r\n        return data.map(movie => ({\r\n          ...movie,\r\n          release_date: movie.release_date.split('-')[0],\r\n          genres: movie.genre_ids\r\n            .map(id => genresList.filter(el => el.id === id))\r\n            .flat(),\r\n        }));\r\n      });\r\n    });\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","import NewsApiService from './api-service';\r\nimport moviesList from '../templates/movies-list.hbs';\r\n\r\n\r\nconst searchForm = document.querySelector('#searchForm');\r\nconst moviesContainer = document.querySelector('.js-movies-container');\r\n\r\nconst newApiService = new NewsApiService();\r\n\r\nsearchForm.addEventListener('input', onSearch);\r\n\r\nfunction onSearch(e) {\r\n    e.preventDefault();\r\n\r\n  newApiService.query = e.target.value;\r\n    if (newApiService.query !== '') {\r\n        newApiService.insertSearchGenresOfMovie()\r\n            .then(renderMoviesCard);\r\n    } else {\r\n        clearMarkup();\r\n    };\r\n};\r\n\r\nfunction renderMoviesCard(movies) {\r\n    const allMoviesMarkup = moviesList(movies);\r\n    moviesContainer.innerHTML = allMoviesMarkup;\r\n};\r\n\r\nfunction clearMarkup() {\r\n    moviesContainer.innerHTML = '';\r\n}","\r\nimport moviePosterTpl from '../templates/movies-list.hbs';\r\nimport NewsApiService from './api-service';\r\n\r\n\r\nconst listElement = document.querySelector('.js-movies-container');\r\n\r\nconst newApiService = new NewsApiService();\r\n\r\nrender();\r\n\r\n// рендер первой страницы\r\nfunction render() {\r\n  newApiService\r\n    .insertGenresOfMovie()\r\n    .then(renderMoviesCard)\r\n    .catch(err => {\r\n      console.log('error render');\r\n    });\r\n}\r\n\r\n// для разметки\r\nfunction renderMoviesCard(articles) {\r\n  listElement.innerHTML = moviePosterTpl(articles);\r\n}\r\n\r\n"],"sourceRoot":""}