{"version":3,"sources":["webpack:///./templates/movies-list.hbs","webpack:///./js/api-service.js","webpack:///./js/search-movies.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","API_KEY","BASE_URL","apiService","this","searchQuery","page","fetchTrendingMovies","fetch","then","response","json","results","fetchMoviesSearch","url","incrementPage","console","log","resetPage","newQuery","searchForm","document","querySelector","moviesContainer","ApiService","listMoviesMarkup","movies","insertAdjacentHTML","moviesList","addEventListener","e","preventDefault","query","currentTarget","elements","value","innerHTML","viewMarkup"],"mappings":"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","file":"main.075492971d766a8bf5ae.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movies-item\\\">\\r\\n  <a href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"homepage\") || (depth0 != null ? lookupProperty(depth0,\"homepage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"homepage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":11},\"end\":{\"line\":3,\"column\":23}}}) : helper)))\n    + \"\\\" rel=\\\"noopener noreferrer\\\">\\r\\n    <article>\\r\\n      <div class=\\\"movies-poster\\\">\\r\\n        <img class=\\\"movies-image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":39},\"end\":{\"line\":6,\"column\":54}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":61},\"end\":{\"line\":6,\"column\":70}}}) : helper)))\n    + \" movie poster\\\" width=\\\"274\\\">\\r\\n      </div>\\r\\n      <div class=\\\"info\\\">\\r\\n        <h2 class=\\\"info-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":31},\"end\":{\"line\":9,\"column\":40}}}) : helper)))\n    + \"</h2>\\r\\n        <ul class=\\\"info-text\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":10},\"end\":{\"line\":13,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"          <li class=\\\"info-text__rating\\\">| \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":42},\"end\":{\"line\":14,\"column\":58}}}) : helper)))\n    + \"</li>\\r\\n          <li>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":14},\"end\":{\"line\":15,\"column\":30}}}) : helper)))\n    + \"</li>\\r\\n        </ul>\\r\\n      </div>\\r\\n    </article>\\r\\n  </a>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"          <li class=\\\"info-text__genre\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":39},\"end\":{\"line\":12,\"column\":47}}}) : helper)))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const API_KEY = 'b4c2f63def68e49abedf5a34ac5e443b';\r\nconst BASE_URL = 'https://developers.themoviedb.org/3';\r\n\r\n\r\nexport default class apiService {\r\n  constructor() {\r\n    this.searchQuery = \"\";\r\n    this.page = 1;\r\n  }\r\n  fetchTrendingMovies() {\r\n    const url = `${BASE_URL}/trending/all/day?api_key=${API_KEY}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(({ results }) => {\r\n        return results;\r\n      });\r\n  }\r\n  async fetchMoviesSearch() {\r\n      const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`\r\n    \r\n    try {\r\n      const response = await fetch(url);\r\n      const results = await response.json();\r\n      this.incrementPage();\r\n// console.log(results);\r\n      return results;\r\n    } catch (err) {\r\n      return console.log('Some error in fetch');\r\n    }\r\n  }\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}","import ApiService from './api-service';\r\n\r\nimport moviesList from '../templates/movies-list.hbs';\r\n\r\nconst searchForm = document.querySelector('#searchForm');\r\nconst moviesContainer = document.querySelector('.js-movies-container');\r\n\r\nconst apiService = new ApiService();\r\n\r\nsearchForm.addEventListener('submit', onSearch)\r\n\r\nfunction onSearch(e) {\r\n    e.preventDefault();\r\n\r\n  apiService.query = e.currentTarget.elements.query.value;\r\n        \r\n  apiService.resetPage();\r\n  clearListMovies();\r\n  viewMarkup();\r\n}\r\n\r\nfunction listMoviesMarkup(movies) {\r\n  moviesContainer.insertAdjacentHTML('beforeend', moviesList(movies));\r\n}\r\n\r\nfunction clearListMovies() {\r\n  moviesContainer.innerHTML = '';\r\n}\r\n\r\nasync function viewMarkup() {\r\ntry {\r\n    const response = await apiService.fetchMoviesSearch();\r\n    listMoviesMarkup(response);\r\n    apiService.incrementPage();\r\n  }\r\n  catch (error) {\r\n    console.log('Error');\r\n  }\r\n}\r\napiService.fetchMoviesSearch();"],"sourceRoot":""}